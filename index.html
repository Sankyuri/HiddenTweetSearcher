<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hidden Tweet Searcher</title>
    <style type="text/css">
        /* 修正願います */
        body {
            background-color: #f0f0f0ff;
            color: #000f
        }
        @media (prefers-color-scheme: dark) {
            body {
                background: #333f;
                color: #ffff; 
            }
        }
    </style>
    <meta property="og:title" content="Hidden Tweet Searcher">
    <meta property="og:description" content="ログインせずにユーザーのツイートを覗く">
    <meta property="og:site_name" content="Hidden Tweet Searcher">
    <meta property="og:url" content="#">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="website">
    <!-- OGPイメージは任意で追加お願いします -->
    <meta property="og:image" content="./ogp-img.png">
    
</head>

<body>
    <h1>TwitterユーザーをIDで検索</h1>
    <p>ログイン不要で相手のユーザー名を入力するだけで閲覧可能！</p>
    <strong>※注意！</strong>
    <ui>
        <li><b>公開アカウントのみ</b>閲覧可能。鍵アカウントは見れません。</li>
        <li>新しく検索する際は、ページを<b>再読み込み</b>してください。</li>
    </ui>
    <br>
    <div class="inputArea">
        <label for="lang">言語の選択</label>
        <select id="lang">
            <option value="ja">日本語</option>
            <option value="en">English</option>
            <option value="uk">Україна</option>
        </select><br>
        <label for="inputBox">@以降を入力:</label><br>
        <input type="text" id="inputBox" name="inputBox" size="20">
        <button type="button" onclick="search();">表示</button>
    </div>

    <script>
        function search() {
            var AccountID = document.getElementById("inputBox").value;
            let TwitterTimeline = document.getElementById("twitter-timeline");
            //aタグを取得
            
            var Language = document.getElementById('lang').value;
            // 言語を取得

            var MakeLink = "https://twitter.com/" + AccountID + "?lang=" + Language;
            //入力でリンクを作成

            TwitterTimeline.setAttribute("href", MakeLink);
            console.log("Link: " + MakeLink);
            //作成したリンクでhref属性の値を更新

            var script = document.createElement("script");
            script.src = "https://platform.twitter.com/widgets.js";
            document.body.appendChild(script);
            //Twitter社提供のJavaScriptコードの読み込み
            //コードを読み込む前にhref属性を書き換えなければならない
        }
    </script>

    <a class="twitter-timeline" data-lang="ja" data-width="400" href="#" id="twitter-timeline"></a>
    <br><br>
    <p><strong>表示されない場合は？</strong><br>該当するアカウントは鍵アカウントまたは存在しません。<br>公開されているアクティブなユーザーか確認し、ページを再読み込みしてから正しいIDを再入力してください。<br><input type="button" value="ページの再読込" onclick="window.location.reload();"></p>
</body>

</html>
